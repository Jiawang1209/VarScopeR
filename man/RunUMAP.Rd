% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/RunUMAP.R
\name{RunUMAP}
\alias{RunUMAP}
\title{Run Uniform Manifold Approximation and Projection (UMAP) on ASV/feature data}
\usage{
RunUMAP(
  object,
  reduction = "pca",
  assay = "scale",
  dims = NULL,
  n.neighbors = 30,
  min.dist = 0.3,
  n.components = 2,
  metric = "cosine",
  reduction.name = "umap",
  seed = 1115
)
}
\arguments{
\item{object}{A \code{VarScope} object containing PCA results or scaled data.}

\item{reduction}{Character. Name of the reduction to use as input. If "pca",
uses PCA scores (ASV coordinates in PC space). If NULL, uses the assay
specified by \code{assay} parameter (default: "pca").}

\item{assay}{Character. Name of the assay to use if \code{reduction} is NULL
(default: "scale").}

\item{dims}{Integer vector. Which dimensions (PCs) to use if reduction is "pca".
If NULL, uses all available PCs (default: NULL).}

\item{n.neighbors}{Integer. Size of local neighborhood for UMAP (default: 30).}

\item{min.dist}{Numeric. Minimum distance between points in the embedding
(default: 0.3).}

\item{n.components}{Integer. Number of UMAP dimensions to compute (default: 2).}

\item{metric}{Character. Distance metric to use (default: "cosine").}

\item{reduction.name}{Character. Name to store the UMAP reduction
(default: "umap").}

\item{seed}{Integer. Random seed for reproducibility (default: 1115).}
}
\value{
A \code{VarScope} object with UMAP results stored in
  \code{object$reductions[[reduction.name]]}. The reduction contains:
  \itemize{
    \item \code{embedding}: Matrix of UMAP coordinates (ASVs × UMAP dimensions)
      - ASV coordinates in UMAP space for clustering
  }
}
\description{
Perform UMAP dimensionality reduction on ASV/feature data for ASV clustering.
UMAP can be computed from PCA results (recommended) or directly from scaled data.
The result provides a 2D or 3D embedding of ASVs for visualization and clustering.
}
\examples{
\dontrun{
vsobj <- CreateVarScopeObject(
  counts = "inst/extdata/otutab.txt",
  meta.data = "inst/extdata/group.csv"
)
vsobj <- NormalizeData(vsobj, normalization.method = "log2")
vsobj <- FindVariableFeatures(vsobj)
vsobj <- ScaleData(vsobj)
vsobj <- RunPCA(vsobj, npcs = 10)
vsobj <- RunUMAP(vsobj, dims = 1:10)
# Access ASV UMAP coordinates: vsobj$reductions$umap$embedding
# This is ASVs × UMAP dimensions for ASV clustering
}
}
